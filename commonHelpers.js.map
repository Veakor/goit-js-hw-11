{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst apiKey = '42207002-bb01baf83cbb3b924a651843b';\nconst searchInput = document.getElementById('searchInput');\nconst searchButton = document.getElementById('searchButton');\nconst imageContainer = document.getElementById('imageContainer');\nconst loadingIndicator = document.getElementById('loadingIndicator');\n\ndocument.addEventListener('submit', () => {\n    event.preventDefault();\n    const searchTerm = searchInput.value.trim();\n  \n  if (searchTerm) {\n    showLoadingIndicator();\n    searchImages(searchTerm);\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n    });\n  }\n});\n\nfunction showLoadingIndicator() {\n    loadingIndicator.style.display = 'block';\n  }\n  \nfunction hideLoadingIndicator() {\n    if(loadingIndicator){\n    loadingIndicator.style.display = 'none';\n  }\n}\n\nfunction searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  showLoadingIndicator();\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n\n      if (data.hits && data.hits.length > 0) {\n        clearImages();\n        displayImages(data.hits);\n      } else {\n        iziToast.info({\n          title: 'Info',\n          message: 'Sorry, there are no images matching your search query. Please try again.',\n        });\n\n        clearImages();\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching images. Please try again.',\n      });\n      console.error(error);\n    })\n\n    .finally(() => {\n\n        hideLoadingIndicator();\n      });\n}\n\n\nfunction displayImages(images) {\n  const html = images.map(image => generateImageCard(image)).join('');\n  imageContainer.innerHTML = html;\n\n \n  const lightbox = new SimpleLightbox('.card-link');\n  lightbox.refresh();\n}\n\n\nfunction generateImageCard(image) {\n  return `\n    <div class=\"image-card\">\n      <a href=\"${image.largeImageURL}\" class=\"card-link\" data-lightbox=\"image\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"card-image\">\n      </a>\n      <div class=\"card-details\">\n        <p class=\"card-text\"><strong>Likes:</strong> ${image.likes}</p>\n        <p class=\"card-text\"><strong>Views:</strong> ${image.views}</p>\n      </div>\n      <div class=\"card-details\">\n        <p class=\"card-text\"><strong>Comments:</strong> ${image.comments}</p>\n        <p class=\"card-text\"><strong>Downloads:</strong> ${image.downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\nfunction clearImages() {\n  imageContainer.innerHTML = '';\n}"],"names":["apiKey","searchInput","imageContainer","loadingIndicator","searchTerm","showLoadingIndicator","searchImages","iziToast","hideLoadingIndicator","query","url","response","data","clearImages","displayImages","error","images","html","image","generateImageCard","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAS,qCACTC,EAAc,SAAS,eAAe,aAAa,EACpC,SAAS,eAAe,cAAc,EAC3D,MAAMC,EAAiB,SAAS,eAAe,gBAAgB,EACzDC,EAAmB,SAAS,eAAe,kBAAkB,EAEnE,SAAS,iBAAiB,SAAU,IAAM,CACtC,MAAM,eAAc,EACpB,MAAMC,EAAaH,EAAY,MAAM,KAAI,EAEvCG,GACFC,IACAC,EAAaF,CAAU,GAEvBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,CAEL,CAAC,EAED,SAASF,GAAuB,CAC5BF,EAAiB,MAAM,QAAU,OAClC,CAEH,SAASK,GAAuB,CACzBL,IACHA,EAAiB,MAAM,QAAU,OAErC,CAEA,SAASG,EAAaG,EAAO,CAC3B,MAAMC,EAAM,gCAAgCV,CAAM,MAAM,mBAAmBS,CAAK,CAAC,2DAEjFJ,IAEA,MAAMK,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CAERA,EAAK,MAAQA,EAAK,KAAK,OAAS,GAClCC,IACAC,EAAcF,EAAK,IAAI,IAEvBL,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,0EACnB,CAAS,EAEDM,IAER,CAAK,EACA,MAAME,GAAS,CACdR,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4DACjB,CAAO,EACD,QAAQ,MAAMQ,CAAK,CACzB,CAAK,EAEA,QAAQ,IAAM,CAEXP,GACR,CAAO,CACP,CAGA,SAASM,EAAcE,EAAQ,CAC7B,MAAMC,EAAOD,EAAO,IAAIE,GAASC,EAAkBD,CAAK,CAAC,EAAE,KAAK,EAAE,EAClEhB,EAAe,UAAYe,EAGV,IAAIG,EAAe,YAAY,EACvC,QAAO,CAClB,CAGA,SAASD,EAAkBD,EAAO,CAChC,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,uDAGHA,EAAM,KAAK;AAAA,uDACXA,EAAM,KAAK;AAAA;AAAA;AAAA,0DAGRA,EAAM,QAAQ;AAAA,2DACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI1E,CAEA,SAASL,GAAc,CACrBX,EAAe,UAAY,EAC7B"}